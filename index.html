<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>PRTCL 108</title>
  <meta name="description" content="PRTCL 108 ‚Äî —Å–∫–∞–Ω –ø–µ—Ä—Å–æ–Ω–∞–∂–∞: –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –Ω–∞–≤—ã–∫–∏, –±–ª–æ–∫–µ—Ä—ã –∏ –ø—É—Ç—å –ø—Ä–æ–∫–∞—á–∫–∏."/>
  <style>
    :root{
      /* –•–æ–ª–æ–¥–Ω–∞—è —Å—Ç–∞–ª—å / –Ω–µ–±–æ / –∑–µ—Ä–∫–∞–ª–æ */
      --bg0:#050b10;
      --bg1:#070f16;
      --sky0:#0f2434;
      --sky1:#1a3a52;

      --steel0:#aab7c3;
      --steel1:#7e90a1;
      --steel2:#5e7286;

      --iceGlow:#c8f5ff;
      --iceGlow2:#dffcff;

      --warmGlass: rgba(235, 220, 205, .10);
      --danger:#ff5b6a;

      --border:rgba(255,255,255,.12);
      --glass:rgba(10,18,26,.58);
      --glass2:rgba(255,255,255,.06);

      --r14:14px;
      --r18:18px;
      --r22:22px;
      --r28:28px;

      --shadow: 0 18px 60px rgba(0,0,0,.55);
      --shadow2: 0 10px 40px rgba(0,0,0,.42);

      --font: ui-sans-serif, -apple-system, BlinkMacSystemFont, "SF Pro Display",
              "Inter", "Segoe UI", Roboto, Helvetica, Arial;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:var(--font);
      color:rgba(255,255,255,.92);
      background:
        radial-gradient(1100px 800px at 20% 15%, rgba(223,252,255,.10), transparent 60%),
        radial-gradient(900px 700px at 80% 20%, rgba(126,144,161,.18), transparent 60%),
        radial-gradient(1200px 900px at 55% 95%, rgba(15,36,52,.55), transparent 65%),
        linear-gradient(180deg, var(--bg0), var(--sky0) 35%, var(--bg1) 70%, var(--bg0));
      overflow-x:hidden;
    }

    .stars{
      position:fixed; inset:0;
      pointer-events:none;
      opacity:.55;
      mix-blend-mode:screen;
      background-image:
        radial-gradient(1px 1px at 10% 20%, rgba(255,255,255,.35) 50%, transparent 52%),
        radial-gradient(1px 1px at 80% 35%, rgba(255,255,255,.25) 50%, transparent 52%),
        radial-gradient(1px 1px at 55% 12%, rgba(255,255,255,.22) 50%, transparent 52%),
        radial-gradient(1px 1px at 30% 70%, rgba(255,255,255,.20) 50%, transparent 52%),
        radial-gradient(1px 1px at 65% 82%, rgba(255,255,255,.18) 50%, transparent 52%),
        radial-gradient(1px 1px at 15% 88%, rgba(255,255,255,.16) 50%, transparent 52%),
        radial-gradient(1px 1px at 92% 78%, rgba(255,255,255,.14) 50%, transparent 52%);
      filter: blur(.1px);
    }

    .wrap{
      width:min(1180px, calc(100% - 40px));
      margin:0 auto;
      padding:22px 0 90px;
    }

    .top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:18px;
      padding:14px 16px;
      border:1px solid var(--border);
      border-radius:999px;
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      backdrop-filter: blur(10px);
      box-shadow: var(--shadow2);
      position:sticky;
      top:14px;
      z-index:50;
    }
    .brand{
      display:flex; align-items:center; gap:12px;
      letter-spacing:.22em;
      text-transform:uppercase;
      font-weight:750;
    }
    .brand .mark{
      width:12px;height:12px;border-radius:4px;
      background:rgba(223,252,255,.18);
      border:1px solid rgba(223,252,255,.22);
      box-shadow:0 0 26px rgba(200,245,255,.18)
    }
    .badge{
      font-family:var(--mono);
      font-size:12px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(200,245,255,.22);
      background: rgba(200,245,255,.07);
      color: rgba(223,252,255,.95);
      white-space:nowrap;
    }
    .nav{display:flex; gap:10px; align-items:center;}
    .nav a{
      font-size:13px;
      color:rgba(255,255,255,.74);
      text-decoration:none;
      padding:8px 10px;
      border-radius:10px;
      border:1px solid transparent;
    }
    .nav a:hover{
      color:rgba(255,255,255,.92);
      border-color:rgba(255,255,255,.10);
      background:rgba(255,255,255,.04);
    }

    /* HERO */
    .hero{
      margin-top:18px;
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap:18px;
      align-items:stretch;
    }
    .heroLeft{
      padding:32px 28px 22px;
      min-height:560px;
      position:relative;
    }

    .centerTitle{
      position:absolute;
      left:50%;
      top:22px;
      transform:translateX(-50%);
      width:calc(100% - 40px);
      text-align:center;
      pointer-events:none;
      z-index:2;
    }
    .steelText{
      font-weight:900;
      font-size:62px;
      letter-spacing:.18em;
      text-transform:uppercase;
      margin:0;
      line-height:1.0;
      background: linear-gradient(180deg,
        rgba(255,255,255,.92),
        rgba(170,183,195,.88),
        rgba(120,140,158,.92),
        rgba(255,255,255,.65)
      );
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
      text-shadow:
        0 0 22px rgba(223,252,255,.10),
        0 18px 60px rgba(0,0,0,.55);
      filter: saturate(1.05) contrast(1.08);
      opacity:.95;
    }

    .kicker{
      margin-top:120px;
      font-family:var(--mono);
      font-size:12px;
      letter-spacing:.18em;
      text-transform:uppercase;
      color:rgba(223,252,255,.72);
      display:flex;
      gap:12px;
      align-items:center;
    }
    .dot{
      width:8px;height:8px;border-radius:99px;
      background: rgba(200,245,255,.85);
      box-shadow:0 0 18px rgba(200,245,255,.55);
    }

    h1{
      margin:14px 0 10px;
      font-size:44px;
      line-height:1.05;
      letter-spacing:.02em;
    }
    .sub{
      margin:0 0 20px;
      font-size:15px;
      line-height:1.65;
      color:rgba(255,255,255,.78);
      max-width:62ch;
    }
    .sub b{color:rgba(255,255,255,.95)}
    .ctaRow{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      align-items:center;
      margin-top:16px;
    }
    .btn{
      appearance:none;
      border:none;
      cursor:pointer;
      border-radius:var(--r14);
      padding:14px 16px;
      font-weight:800;
      letter-spacing:.02em;
      color:rgba(255,255,255,.95);
      background:
        radial-gradient(120% 160% at 20% 10%, rgba(223,252,255,.28), transparent 55%),
        linear-gradient(180deg, rgba(200,245,255,.16), rgba(200,245,255,.07));
      border:1px solid rgba(200,245,255,.22);
      box-shadow: 0 0 60px rgba(200,245,255,.10);
      transition: transform .15s ease, filter .15s ease;
    }
    .btn:hover{ transform: translateY(-1px); filter:brightness(1.06); }
    .btn:active{ transform: translateY(0px) scale(.99); }
    .btnGhost{
      background: rgba(255,255,255,.05);
      border:1px solid rgba(255,255,255,.14);
      color:rgba(255,255,255,.82);
    }

    /* Forms / text */
    .grid2{display:grid; grid-template-columns: 1fr 1fr; gap:18px; margin-top:0; align-items:start;}
    .card{padding:22px 22px;}
    .card h2{margin:0 0 8px; font-size:18px; letter-spacing:.02em;}
    .card p{margin:0 0 14px; color:rgba(255,255,255,.72); line-height:1.6; font-size:14px;}

    .scanBox{padding:22px; position:relative; overflow:hidden;}
    .scanBox::after{
      content:"";
      position:absolute;
      left:-10%;
      width:120%;
      height:2px;
      top:20%;
      background: linear-gradient(90deg, transparent, rgba(223,252,255,.80), transparent);
      filter: blur(.4px);
      animation: scanline 3.2s ease-in-out infinite;
      opacity:.65;
      pointer-events:none;
    }
    @keyframes scanline{
      0%{ top:18%; opacity:.15;}
      40%{ top:52%; opacity:.75;}
      80%{ top:86%; opacity:.25;}
      100%{ top:18%; opacity:.12;}
    }

    form{display:grid; gap:12px; margin-top:10px;}
    .row2{display:grid; grid-template-columns: 1fr 1fr; gap:12px;}
    label{
      font-size:12px;
      color:rgba(255,255,255,.70);
      font-family:var(--mono);
      letter-spacing:.06em;
      text-transform:uppercase;
    }
    .field{display:grid; gap:8px;}
    input, select, textarea{
      width:100%;
      padding:12px 12px;
      border-radius:var(--r14);
      border:1px solid rgba(255,255,255,.14);
      outline:none;
      background: rgba(255,255,255,.05);
      color:rgba(255,255,255,.92);
      font-size:14px;
    }
    input::placeholder, textarea::placeholder{ color:rgba(255,255,255,.35); }
    .hint{font-size:12px; color:rgba(255,255,255,.60); line-height:1.45;}
    .warn{color:rgba(255,255,255,.70); font-family:var(--mono); font-size:12px;}
    .warn b{color:rgba(255,255,255,.92)}
    .warn .red{color:rgba(255,91,106,.92)}

    /* Multipass ‚Äî –ü–∞—Å–ø–æ—Ä—Ç –∏–≥—Ä–æ–∫–∞ */
    .multipass{
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      border-radius:18px;
      padding:12px;
      margin-top:20px;
    }
    .multipassTitle{
      font-family:var(--mono);
      letter-spacing:.10em;
      text-transform:uppercase;
      font-size:12px;
      color:rgba(223,252,255,.86);
    }
    .multipassText{
      font-size:14px;
      line-height:1.55;
      color:rgba(255,255,255,.74);
    }

    /* Processing overlay */
    .overlay.processing{
      display:flex;
      align-items:center;
      justify-content:center;
      padding:18px;
      z-index:200;
    }
  </style>
</head>

<body>
  <div class="stars" aria-hidden="true"></div>

  <div class="wrap">
    <header class="top">
      <div class="brand">
        <span class="mark"></span>
        <span>PRTCL 108</span>
        <span class="badge" id="accessBadge">access: locked</span>
      </div>
      <nav class="nav">
        <a href="#top">–í—Ö–æ–¥</a>
        <a href="#dashboard">–î–∞—à–±–æ—Ä–¥</a>
      </nav>
    </header>

    <!-- HERO / ENTRY -->
    <section class="hero" id="top">
      <div class="panel heroLeft">
        <div class="centerTitle">
          <h2 class="steelText">PRTCL 108</h2>
          <div class="steelSub">cold protocol / mirror interface</div>
        </div>

        <div class="kicker"><span class="dot"></span> –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞–±–ª—é–¥–µ–Ω–∏—è <span style="opacity:.55">/</span> <span style="font-family:var(--mono);opacity:.78">SCAN</span></div>
        <h1>–°–∫–∞–Ω –ø–µ—Ä—Å–æ–Ω–∞–∂–∞.</h1>
        <p class="sub">
          –¢—ã –≤–≤–æ–¥–∏—à—å –¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è ‚Äî PRTCL –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç <b>–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é</b>: –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –Ω–∞–≤—ã–∫–∏, –±–ª–æ–∫–µ—Ä—ã –∏ –ø—É—Ç—å –ø—Ä–æ–∫–∞—á–∫–∏.
          –≠—Ç–æ –Ω–µ ‚Äú–≤–µ—Ä–∞‚Äù. –≠—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
        </p>

        <div class="ctaRow">
          <button class="btn" id="openScan">–ù–ê–ß–ê–¢–¨ –°–ö–ê–ù</button>
          <button class="btn btnGhost" id="viewDemo">–ü–û–°–ú–û–¢–†–ï–¢–¨ –î–ê–®–ë–û–†–î</button>
          <span class="micro">single-player mode<br/>–¥–∞–Ω–Ω—ã–µ –Ω–µ –ø—É–±–ª–∏–∫—É—é—Ç—Å—è</span>
        </div>

        <div class="divider"></div>

        <div class="miniList">
          <div class="miniItem"><span class="chip">CONFIG</span><div>–ë–∞–∑–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã + —Ç–∏–ø —Ä–µ–∞–∫—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã.</div></div>
          <div class="miniItem"><span class="chip">SKILLS</span><div>–ü–∞—Å—Å–∏–≤–Ω—ã–µ/–∞–∫—Ç–∏–≤–Ω—ã–µ –Ω–∞–≤—ã–∫–∏ –∏ —Å—Ç–∏–ª—å –ø–æ–≤–µ–¥–µ–Ω–∏—è.</div></div>
          <div class="miniItem"><span class="chip">BLOCKERS</span><div>–ì–¥–µ —Å–∏—Å—Ç–µ–º–∞ —Ç–µ—Ä—è–µ—Ç –≤—ã–±–æ—Ä. –ü–æ–ª–Ω—ã–π —Ä–∞–∑–±–æ—Ä ‚Äî –≤ –∑–∞–∫—Ä—ã—Ç–æ–º –¥–æ—Å—Ç—É–ø–µ.</div></div>
          <div class="miniItem"><span class="chip">UPGRADE</span><div>–ö—É–¥–∞ –ø—Ä–æ–∫–∞—á–∏–≤–∞—Ç—å –ø–µ—Ä–≤—ã–º ‚Äî —á—Ç–æ–±—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—ã–ª –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏.</div></div>
        </div>

        <div class="divider"></div>

        <div class="warn"><span class="red">warning:</span> —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å —Ö–æ–ª–æ–¥–Ω—ã–º. <b>—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ</b>.</div>
      </div>

      <div class="panel heroRight">
        <div class="characterFrame">
          <img class="charImg" id="heroImg" src="assets/helm-f.jpg" alt="PRTCL character"/>
          <div class="hud">
            <div class="hudTop">
              <div class="hudTitle">character preview</div>
              <div class="hudTag" id="hudTag">FEMALE / HELM</div>
            </div>
            <div class="hudLine" id="hudLine">–û–±—Ä–∞–∑ ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. –°–º—ã—Å–ª ‚Äî —Ö–æ–ª–æ–¥–Ω—ã–π –∏ —Ç–æ—á–Ω—ã–π.</div>
          </div>
        </div>
      </div>
    </section>

    <!-- DASHBOARD -->
    <section class="panel dashWrap" id="dashboard">
      <div class="dashHeader">
        <h2>RESULT / DASHBOARD</h2>
        <p>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã, —Ä–µ–∂–∏–º, –Ω–∞–≤—ã–∫–∏, –±–ª–æ–∫–µ—Ä—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞. –ó–∞–∫—Ä—ã—Ç—ã–µ —Å–ª–æ–∏ ‚Äî –ø–æ–¥ –∑–∞–º–∫–æ–º.</p>
      </div>

      <div class="dash">
        <div class="dashLeft">
          <span class="tag">current character</span>
          <img id="dashAvatar" src="assets/helm-f.jpg" alt="character"/>
        </div>

        <div class="dashRight">
          <!-- BASE -->
          <div class="box">
            <div class="boxTitle">
              <span>BASE PARAMETERS</span>
              <span class="pill" id="seedPill">seed: ‚Äî</span>
            </div>

            <div class="meter"><div class="name">Energy</div><div class="track"><div class="fill" id="mEnergy"></div></div><div class="val" id="vEnergy">‚Äî</div></div>
            <div class="meter"><div class="name">Focus</div><div class="track"><div class="fill" id="mFocus"></div></div><div class="val" id="vFocus">‚Äî</div></div>
            <div class="meter"><div class="name">Stability</div><div class="track"><div class="fill" id="mStability"></div></div><div class="val" id="vStability">‚Äî</div></div>
            <div class="meter"><div class="name">Drive</div><div class="track"><div class="fill" id="mDrive"></div></div><div class="val" id="vDrive">‚Äî</div></div>
            <div class="meter"><div class="name">Adaptation</div><div class="track"><div class="fill" id="mAdapt"></div></div><div class="val" id="vAdapt">‚Äî</div></div>

            <p class="modeText" id="modeText" style="margin-top:10px;">‚Äî</p>
          </div>

          <!-- CONFIG -->
          <div class="box">
            <div class="boxTitle">
              <span>CONFIG</span>
              <span class="pill" id="modePill">‚Äî</span>
            </div>

            <div class="kv">
              <div class="kvRow"><div class="kvKey">CLASS</div><div class="kvVal"><b id="clsName">‚Äî</b><div class="listText" id="clsDesc">‚Äî</div></div></div>
              <div class="kvRow"><div class="kvKey">ROLE</div><div class="kvVal"><b id="roleName">‚Äî</b><div class="listText" id="roleDesc">‚Äî</div></div></div>
              <div class="kvRow"><div class="kvKey">TRAIT</div><div class="kvVal"><b id="traitName">‚Äî</b><div class="listText" id="traitDesc">‚Äî</div></div></div>
            </div>
          </div>

          <!-- SKILLS -->
          <div class="box">
            <div class="boxTitle">
              <span>SKILLS & PERKS</span>
              <span class="pill">public</span>
            </div>
            <div class="kv" id="skillsList"></div>
          </div>

          <!-- BLOCKERS -->
          <div class="box">
            <div class="boxTitle">
              <span>BLOCKERS</span>
              <span class="pill">partial</span>
            </div>

            <div class="lockLine">
              <span class="lockIco">üîí</span>
              <span><b id="blkName">‚Äî</b> / –¥–µ—Ä–µ–≤–æ –∏ —Ç—Ä–∏–≥–≥–µ—Ä—ã ‚Äî –≤ –∑–∞–∫—Ä—ã—Ç–æ–º —Å–ª–æ–µ</span>
            </div>

            <p class="blkText" id="blkText" style="margin-top:10px;">‚Äî</p>

            <div class="lockedBlock">
              <div class="blur">
                <div class="kv">
                  <div class="kvRow"><div class="kvKey">TRIGGER</div><div class="kvVal"><b id="t1">‚Äî</b><div class="listText" id="t1d">‚Äî</div></div></div>
                  <div class="kvRow"><div class="kvKey">LOOP</div><div class="kvVal"><b id="t2">‚Äî</b><div class="listText" id="t2d">‚Äî</div></div></div>
                  <div class="kvRow"><div class="kvKey">COUNTER</div><div class="kvVal"><b id="t3">‚Äî</b><div class="listText" id="t3d">‚Äî</div></div></div>
                </div>
              </div>

              <div class="overlayLock">
                <div class="unlockTag">CAMPAIGN MODE / LOCKED</div>
                <div class="unlockHint">–ì–ª—É–±–∏–Ω–∞ –∞–Ω–∞–ª–∏–∑–∞: –¥–µ—Ä–µ–≤–æ –±–ª–æ–∫–µ—Ä–æ–≤, —Ç—Ä–∏–≥–≥–µ—Ä—ã, –∫–æ–Ω—Ç—Ä-–ø—Ä–æ—Ç–æ–∫–æ–ª—ã –∏ –º–∞—Ä—à—Ä—É—Ç upgrade.</div>
              </div>
            </div>

            <div class="payRow">
              <button class="btn btnGhost" id="openPaywall">–û–¢–ö–†–´–¢–¨ –ó–ê–ö–†–´–¢–´–ô –°–õ–û–ô</button>
              <span class="hint">—Ü–µ–Ω–Ω–∏–∫ —Å–∫—Ä—ã—Ç. —ç—Ç–æ –¥–µ–º–æ-–≤–æ—Ä–æ—Ç–∞.</span>
            </div>
          </div>

          <!-- QUESTS -->
          <div class="box">
            <div class="boxTitle">
              <span>QUESTS</span>
              <span class="pill">starter</span>
            </div>
            <div class="kv" id="questsList"></div>
          </div>

        </div>
      </div>
    </section>

    <!-- Multipass -->
    <section class="multipass">
      <div class="multipassTitle">MULTIPASS ‚Äî –ü–ê–°–ü–û–†–¢ –ò–ì–†–û–ö–ê</div>
      <div class="multipassText">–¢—ã –ø—Ä–æ—à—ë–ª —Å–∫–∞–Ω, —Ç–µ–ø–µ—Ä—å —É —Ç–µ–±—è –µ—Å—Ç—å –ø–∞—Å–ø–æ—Ä—Ç –∏–≥—Ä–æ–∫–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç —Ç–≤–æ–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏.</div>
    </section>

    <footer class="panel footer">
      <div class="mono">PRTCL 108</div>
      <div>UI: <span class="mono">steel / sky / mirror</span></div>
      <div>¬© <span id="year"></span></div>
    </footer>
  </div>

  <script>
    const $ = (s, r=document) => r.querySelector(s);

    $("#year").textContent = new Date().getFullYear();

    const scanOverlay = $("#scanOverlay");
    const procOverlay = $("#procOverlay");
    const payOverlay  = $("#payOverlay");

    const openScan  = () => { scanOverlay.style.display = "flex"; initSignature(); };
    const closeScan = () => { scanOverlay.style.display = "none"; };

    $("#openScan").addEventListener("click", openScan);
    $("#closeScan").addEventListener("click", closeScan);

    $("#viewDemo").addEventListener("click", () => {
      ensureProfile();
      showDashboard();
      document.getElementById("dashboard").scrollIntoView({behavior:"smooth"});
    });

    $("#openPaywall").addEventListener("click", () => payOverlay.style.display = "flex");

    // Storage
    const KEY = "prtcl108_profile";
    const loadState = () => { try { return JSON.parse(localStorage.getItem(KEY) || "{}"); } catch { return {}; } };
    const saveState = (patch) => {
      const cur = loadState();
      const next = {...cur, ...patch};
      localStorage.setItem(KEY, JSON.stringify(next));
      return next;
    };

    // Generate Profile
    function generateProfile(dob, tob){
      const seedStr = `${dob || "0000-00-00"}|${tob || "00:00"}`;
      const seed = hashStr(seedStr);
      const r = rng(seed);

      const params = {
        energy: pct(r),
        focus: pct(r),
        stability: pct(r),
        drive: pct(r),
        adapt: pct(r),
      };

      const mode = pick(r, MODES);
      const cls  = pick(r, CLASSES);
      const role = pick(r, ROLES);
      const trait= pick(r, TRAITS);

      const skills = [
        ...pickN(r, SKILLS.filter(s=>s.tag==="ACTIVE"), 2),
        ...pickN(r, SKILLS.filter(s=>s.tag==="PASSIVE"), 2),
        ...pickN(r, SKILLS.filter(s=>s.tag==="DEBUFF"), 1),
      ];

      const blocker = pick(r, BLOCKERS);
      const tr = pickN(r, TRIGGERS, 2);
      const ct = pickN(r, COUNTERS, 1);

      const qs = pickN(r, QUESTS, 3);

      return { seedStr, seed, params, mode, cls, role, trait, skills, blocker, deep:{tr, ct}, quests: qs };
    }

    function applyDashboard(st){
      // Dashboard application logic here
    }

    // Signature pad initialization
    function initSignature(){
      // Signature pad logic here
    }

    // Multipass render
    function renderMultipass(st){
      $(".multipass").innerHTML = `
        <div class="multipassTitle">MULTIPASS ‚Äî –ü–ê–°–ü–û–†–¢ –ò–ì–†–û–ö–ê</div>
        <div class="multipassText">–¢—ã –ø—Ä–æ—à—ë–ª —Å–∫–∞–Ω, —Ç–µ–ø–µ—Ä—å —É —Ç–µ–±—è –µ—Å—Ç—å –ø–∞—Å–ø–æ—Ä—Ç –∏–≥—Ä–æ–∫–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç —Ç–≤–æ–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏.</div>
      `;
    }
  </script>
</body>
</html>
